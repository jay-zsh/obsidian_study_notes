### **算法原理**

1. **数论基础**：  
    所有大于3的质数都满足以下形式之一：  
    或  
    这是因为：
    
    - `6k` → 能被6整除（非质数）
    - `6k±2` → 能被2整除（非质数）
    - `6k±3` → 能被3整除（非质数）
2. **验证示例**：
    
    - 质数5 = 6×1-1
    - 质数7 = 6×1+1
    - 质数11 = 6×2-1
    - 质数13 = 6×2+1

---

### **具体实现步骤**

```cpp
bool is_prime(int n) {
    if (n <= 1) return false;
    if (n <= 3) return true;       // 2和3是质数
    if (n%2 == 0 || n%3 == 0)      // 排除2和3的倍数
        return false;
    
    // 从5开始，步长6（检查6k±1）
    for (int i=5; i*i <= n; i += 6) {
        if (n%i == 0 ||          // 检查6k-1
            n%(i+2) == 0)        // 检查6k+1
            return false;
    }
    return true;
}
```

---

### **性能优势**

|方法|检查次数（n=1e6）|时间复杂度|
|---|---|---|
|原始暴力法|999,999次|O(n)|
|平方根优化法|1,000次|O(√n)|
|6k±1算法|167次|O(√n/3)|

---

