# 埃及分数案例

```c++
// 埃及分数

#include <iostream>

#include <cmath>

using namespace std;

int my_gcd(int a, int b)

{

    if (b > a)

    {

        swap(a, b);

    }

    while (b != 0)

    {

        int temp = a % b;

        a = b;

        b = temp;

    }

    return a;

}

  

int main()

{

    int a, b;

    cin >> a >> b;

    while (true)

    {

        if (b % a == 0)

        {

            int final_gcd = my_gcd(a, b);

            a /= final_gcd;

            b /= final_gcd;

            cout << a << "/" << b << endl;

            break;

        }

        else

        {

            int c = b / a + 1;

            cout << 1 << "/" << c << "+";

            a = a * c - b;

            b = b * c;

            int step_gcd = my_gcd(a, b);

            a /= step_gcd;

            b /= step_gcd;

        }

    }

}
```


### 代码逻辑解析（以输入7/8为例）

```cpp
输入：7 8 → 分数7/8
```

**执行流程**：

1. 初始状态：`a=7, b=8`
2. 进入循环：
    
    ```cpp
    c = b/a + 1 = 8/7 + 1 = 2  // 找到最大的单位分数1/2
    ```
    
3. 输出`1/2+`
4. 计算新分数：
    
    ```cpp
    a = a*c - b = 7*2 - 8 = 6
    b = b*c = 8*2 = 16
    约分：gcd(6,16)=2 → a=3, b=8
    ```
    
5. 第二轮循环：
    
    ```cpp
    c = 8/3 + 1 = 3  // 找到次大的单位分数1/3
    ```
    
6. 输出`1/3+`
7. 计算新分数：
    
    ```cpp
    a = 3*3 - 8 = 1
    b = 8*3 = 24
    约分：gcd(1,24)=1
    ```
    
8. 第三轮循环：
    
    ```cpp
    b%a=24%1=0 → 输出1/24
    ```
    

最终结果：`7/8 = 1/2 + 1/3 + 1/24`

### 贪心算法特征

1. **局部最优选择**：每一步选择**最大的合法单位分数**
    
    - 数学依据：对剩余分数`a/b`，取最大的`1/c ≤ a/b` → `c = ⌈b/a⌉`
    - 本例中：
        - 第一次选`c=2`（因为1/2是最大的不超过7/8的单位分数）
        - 第二次选`c=3`（剩余3/8，1/3是最大的不超过3/8的单位分数）
2. **问题规模缩减**：
    
    ```math
    剩余分数 = 原分数 - 1/c = (a*c - b)/b*c
    ```
    
    每次操作后分子严格减小（从7→6→1）
    
3. **终止条件**：当剩余分数本身是单位分数时终止
    

### 算法正确性证明

1. **数学归纳法**：假设对于所有分子<k的情况成立，证明对k成立
2. **分数严格递减**：每次剩余分数`a' < a`（因`1/c < a/b` → `a*c > b` → `a*c - b > 0`）
3. **有限步骤性**：分子是严格递减的正整数，最终必然达到1

### 时间复杂度分析

- 最坏情况：（n为分子大小）
- 示例复杂度：7→6→1，3步完成

### 应用场景

- 分数分解问题
- 资源分配问题（如任务拆分）
- 数论中的分数表示研究

### 算法局限性

1. 不保证项数最少（如5/121有更优解）
2. 可能产生大分母（如本例中的24）