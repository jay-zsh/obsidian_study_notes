#### **本章学习目标**
了解MySQL数据库的基本操作环境，理解SQL语言的功能和特点，熟练掌握MySQL中常用的数据类型，为后续编写SQL语句打下坚实基础。

---

### **`★ 4.1 MySQL数据库操作系统`**

这一节主要介绍如何使用MySQL这个工具。

-   **1. MySQL的安装与配置**
    -   了解如何获取MySQL安装包（如MySQL Installer）、服务器和客户端工具的安装过程。
    -   理解**服务端**（`mysqld`）和**客户端**（如`mysql`命令行工具、MySQL Workbench、Navicat等）的概念。

-   **2. 登录与退出MySQL**
    -   **登录命令**（命令行方式）：
        ```sql
        mysql -u username -p
        ```
        - `-u` 指定用户名（如 root）。
        - `-p` 提示输入密码。
    -   **退出命令**：
        ```sql
        EXIT;  -- 或 \q
        ```

-   **3. 基本数据库操作命令**
    -   **显示所有数据库**：`SHOW DATABASES;`
    -   **创建数据库**：`CREATE DATABASE database_name;`
        - *例如：`CREATE DATABASE school;`*
    -   **选择/使用数据库**：`USE database_name;`
        - *例如：`USE school;`* (这是非常关键的一步，后续操作都在这个数据库上进行)
    -   **显示当前数据库中的所有表**：`SHOW TABLES;`
    -   **查看表结构**：`DESC table_name;` 或 `DESCRIBE table_name;`

---

### **`★ 4.2 SQL概述及功能`**

-   **1. SQL是什么？**
    -   **结构化查询语言**，用于管理和操作关系型数据库。
    -   **特点**：
        -   综合统一：集数据定义、操作、控制于一体。
        -   高度非过程化：只需提出“做什么”，无需关心“怎么做”。
        -   面向集合操作。
        -   语法简单，易学易用。

-   **2. SQL语言的组成部分（按功能划分）**
    -   **`数据定义语言（DDL）`**：用于定义和管理数据库对象（数据库、表、索引、视图等）。
        -   核心命令：`CREATE`（创建）、`ALTER`（修改）、`DROP`（删除）。
    -   **`数据操作语言（DML）`**：用于操作数据库中的数据。
        -   核心命令：`INSERT`（插入）、`UPDATE`（更新）、`DELETE`（删除）。
    -   **`数据查询语言（DQL）`**：用于查询数据。**这是使用最频繁的部分。**
        -   核心命令：`SELECT`。
    -   **`数据控制语言（DCL）`**：用于控制数据库的访问权限和事务。
        -   核心命令：`GRANT`（授权）、`REVOKE`（收回权限）、`COMMIT`（提交事务）、`ROLLBACK`（回滚事务）。

---

### **`★★★ 4.3 MySQL数据类型`**

**这是建表的基础，选错数据类型会严重影响数据库的性能和数据的正确性。** 主要分为三大类：

#### **一、数值类型**
## 整数类型 (Integer Types)

用于存储没有小数部分的数字。

|类型|字节|有符号范围|无符号范围|说明|
|:--|:--|:--|:--|:--|
|`TINYINT`|1|-128 ~ 127|0 ~ 255|小整数，如年龄、状态码|
|`SMALLINT`|2|-32768 ~ 32767|0 ~ 65535||
|`MEDIUMINT`|3|-8388608 ~ 8388607|0 ~ 16777215||
|**`INT` / `INTEGER`**|**4**|**约-21亿 ~ 21亿**|**0 ~ 约42亿**|**最常用的整数类型**，如ID|
|`BIGINT`|8|非常大|非常大|用于极大整数|

-   **`关键属性`**：
	- `UNSIGNED`：声明为无符号数（非负数）。
        -   `AUTO_INCREMENT`：自动增长，常用于主键。

-   **`浮点数类型`**：用于存储近似值，有精度损失。
    -   `FLOAT(M, D)`：单精度浮点数。M是总位数，D是小数点后的位数。
    -   `DOUBLE(M, D)`：双精度浮点数，精度比FLOAT高。

-   **`定点数类型`**：用于存储精确值，如金额。
    -   **`DECIMAL(M, D)`**：**最常用**。M是总位数（精度），D是小数点后的位数（标度）。
    -   *例如：`DECIMAL(5, 2)` 可以存储 `123.45`，但不能存储 `1234.56`（总位数超了）或 `123.456`（小数位超了）。*

#### **二、字符串（文本）类型**

-   **`定长字符串`**：
    -   **`CHAR(n)`**：固定长度为n的字符串。如果存入的字符串长度小于n，会用空格填充到指定长度。
    -   **优点**：存取速度比VARCHAR快。
    -   **适用场景**：长度固定的数据，如身份证号(18位)、手机号(11位)、MD5哈希值(32位)。

-   **`变长字符串`**：
    -   **`VARCHAR(n)`**：可变长度字符串，最大长度为n。只占用实际字符串长度+1（或2）个字节的开销。
    -   **优点**：节省存储空间。
    -   **适用场景**：**最常用**，用于长度不固定的数据，如姓名、地址、文章标题。

-   **`文本类型`**：用于存储大段文本。
    -   `TINYTEXT`, `TEXT`, `MEDIUMTEXT`, `LONGTEXT`：存储容量依次增大。
    -   *例如：`TEXT` 类型常用于存储文章内容、产品描述等。*

#### **三、日期与时间类型**

| 类型              | 格式                  | 范围                                                | 说明                                             |
| :-------------- | :------------------ | :------------------------------------------------ | :--------------------------------------------- |
| **`DATE`**      | YYYY-MM-DD          | 1000-01-01 ~ 9999-12-31                           | **仅存储日期**，如生日、入职日期                             |
| **`TIME`**      | HH:MM:SS            | -838:59:59 ~ 838:59:59                            | 仅存储时间                                          |
| **`DATETIME`**  | YYYY-MM-DD HH:MM:SS | 1000-01-01 00:00:00 ~ 9999-12-31 23:59:59         | **存储日期和时间**，与时区无关                              |
| **`TIMESTAMP`** | YYYY-MM-DD HH:MM:SS | 1970-01-01 00:00:01 UTC ~ 2038-01-19 03:14:07 UTC | **时间戳**，存储自1970年以来的秒数，**与时区有关**，占用空间比DATETIME小 |

**`选择建议`**：一般业务常用 `DATETIME`，如果需要自动记录行的创建/更新时间，可使用 `TIMESTAMP` 并设置默认值。

---

### **本章总结与复习建议**

-   **核心操作**：熟练使用 `SHOW DATABASES`, `USE`, `SHOW TABLES`, `DESC` 这些基础命令来浏览数据库。
-   **核心概念**：清晰区分 DDL, DML, DQL, DCL 的不同作用。
-   **重中之重**：**掌握常用数据类型的选择**。这是设计一张好表的第一步。多思考：这个字段应该用 `INT` 还是 `VARCHAR`？用 `CHAR` 还是 `VARCHAR`？用 `DATETIME` 还是 `TIMESTAMP`？

下一章我们将开始学习如何使用DDL语言创建和管理表结构，本章的数据类型知识将直接应用。如果你对某种数据类型的具体用法有疑问，我们可以深入讨论。