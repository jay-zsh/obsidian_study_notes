
# 22.4 图论问题

---

## 图论问题探究

图结构可引发多种关键问题，例如：
- **s-t路径**：顶点s与t间是否存在路径？
- **连通性**：图是否连通（任意两顶点间存在路径）？
- **双连通性**：是否存在移除后使图断连的顶点？
- **最短s-t路径**：s与t间最短路径是什么？
- **环路检测**：图是否含环？
- **欧拉回路**：是否存在遍历每条边恰好一次的环？
- **哈密顿回路**：是否存在遍历每个顶点恰好一次的环？
- **平面性**：能否在平面上绘制无交叉边的图？
- **同构性**：两图是否同构（本质相同但形式不同）？

图论问题的特殊性在于：难以直观判断问题难度。例如：
- **欧拉回路问题**：1873年已解决，时间复杂度O(E)（E为边数）
- **哈密顿回路问题**：至今无高效解法，最佳算法仍为指数级。解决者可获数学大奖、百万美元奖金并成为著名计算机科学家

---

### 循序渐进

从基础问题入手：给定源顶点s和目标顶点t，判断是否存在路径（即实现`connected(s,t)`函数）。

初始代码方案：
```java
if (s == t):
    return true;

for child in neighbors(s):
    if isconnected(child, t):
        return true;

return false;
```

**练习 17.4.1** 分析上述代码：是否有效？是否高效？试模拟不同场景。

问题暴露：  
调用`connected(0,7)` → 递归调用`connected(1,7)` → 再次调用`connected(0,7)` → 无限循环

**练习 17.4.2** 如何修复？核心问题：重复访问s是否必要？

改进方案（标记访问记录）：
```java
标记s  // 记录s已访问
if (s == t):
    return true;

for child in 未标记邻居(s): // 忽略已标记邻居
    if isconnected(child, t):
        return true;

return false;
```
此方案有效（详见深度优先遍历原理）。

---

### 深度优先路径

上述方案本质是图的**深度优先遍历**（类比树的前/中/后序遍历）：
1. 标记当前顶点
2. 递归访问首个未标记邻居
3. 沿首个邻居深入访问其子代（形成"家族谱系"式深度探索）
4. 回溯后访问次邻居

此策略优先纵向深入，与后续将介绍的广度优先（先访问所有直接邻居再深入）形成对比。