# 1.3 Java 基础特性

---

### 变量与循环

以下程序将打印 0 到 9 的整数：

```java
public class HelloNumbers {
    public static void main(String[] args) {
        int x = 0;
        while (x < 10) {
            System.out.print(x + " ");
            x = x + 1;
        }
    }
}
```

运行结果如下：

```
$ javac HelloNumbers.java
$ java HelloNumbers
$ 0 1 2 3 4 5 6 7 8 9 
```

程序中值得注意的特性：
- 变量 x **必须在使用前声明类型**
- 循环体由花括号包裹，布尔表达式由圆括号包裹
- 使用 `System.out.print` 而非 `println` 避免换行
- 数字与空格拼接防止粘连（可尝试删除空格观察效果）
- 输出结束后终端提示符会与末位数字同行（可通过练习优化）

其中最重要的特性是变量类型声明机制。我们将在后续深入探讨，先完成以下练习：

**练习 1.1.2**  
修改 `HelloNumbers` 使其输出 0 到 9 的累加和。例如输出应以 0 1 3 6 10... 开始，以 45 结束。若需美化输出，可在末尾添加换行符。

---

### 静态类型系统

Java 是**静态类型语言**，这意味着：
- 所有变量、参数、方法必须声明类型
- 类型一旦声明不可更改
- 表达式具有隐式类型（如 `3 + 5` 类型为 `int`）

静态类型的优势：
1. 编译时捕获类型错误，降低调试成本
2. 避免用户遭遇运行时类型错误
3. 提升代码可读性与可维护性
4. 消除运行时类型检查，提升效率

代价：
- 代码冗余度增加
- 代码通用性降低

类型检查示例：

```java
public class HelloNumbers {
    public static void main(String[] args) {
        int x = 0;
        // ...（循环代码）
        x = "horse";  // 类型不兼容
    }
}
```

编译时将报错：

```
HelloNumbers.java:9: error: incompatible types: String cannot be converted to int
```

**延伸思考**  
Java 允许 `System.out.println(5 + " ")` 输出 "5 "，但 Python 中 `print(5 + "horse")` 会报错。这是因为：
- Java 中字符串拼接始终生成字符串
- Python 无法自动转换类型关系

测试题：
- `System.out.println(5 + "10")` 输出 "510"
- `System.out.println(5 + 10)` 输出 15

---

### 函数定义

Java 函数必须属于某个类（称为方法）。对比 Python 函数：

```python
def larger(x, y):
    if x > y:
        return x
    return y
```

等效 Java 实现：

```java
public class LargerDemo {
    public static int larger(int x, int y) {
        return (x > y) ? x : y;
    }

    public static void main(String[] args) {
        System.out.println(larger(8, 10));  // 输出 10
    }
}
```

`public static` 类似于 Python 的 `def`，后续章节将深入讲解其他方法声明方式。虽然 Java 代码更冗长，但其类型安全机制对大型项目至关重要。

---

### 代码规范与文档

优秀代码应具备：
- 风格一致性（缩进、命名、括号等）
- 合理长度（行宽<80字符，文件适度拆分）
- 语义化命名（避免 x/y 等无意义名称）
- 消除重复代码
- 适度注释

**注释规范**  
- 单行注释：`//`
- 多行注释：`/* ... */`
- Javadoc 文档注释：

```java
/** 
 * 返回两数中较大者
 * @param x 第一个整型参数
 * @param y 第二个整型参数
 * @return 较大的输入参数
 */
public static int larger(int x, int y) {
    return Math.max(x, y);
}
```

使用 [Javadoc 工具](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html) 可生成 HTML 格式的 API 文档。建议所有公共方法都添加 Javadoc 注释。