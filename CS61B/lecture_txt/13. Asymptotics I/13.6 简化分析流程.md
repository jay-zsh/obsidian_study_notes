# 13.6 简化分析流程

事情并非如此简单。

**我们（痛苦的）分析流程总结**

- 构建所有可能操作次数的精确计数表（需要大量精力！）
    
- 通过四项简化原则将表格转换为最坏情况增长阶数
    

现在我们将提出一种完全避免建表的新方法！

我们的简化分析流程将包含：

- 选择成本模型，即我们希望计数的代表性操作
    
- 通过以下方式确定代表性操作计数的增长阶数：
    
    - 进行精确计数后舍弃不必要部分；或
        
    - 通过直觉/观察判断增长阶数（这需要实践积累）
        

---

#### 嵌套循环分析示例 - 精确计数

求`dup1`最坏情况运行时间的增长阶数。

```java
int N = A.length;
for (int i = 0; i < N; i += 1)
   for (int j = i + 1; j < N; j += 1)
      if (A[i] == A[j])
         return true;
return false;
```

选择成本模型为_比较操作（\=\=）次数。

观察循环结构，当外循环i=0时，内循环执行j=N-1次；i=1时内循环执行j=N-2次；以此类推。总操作次数为：

cost=1+2+3+…+(N−2)+(N−1)

该成本可简化为N(N−1)/2（[如何推导？](https://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_%E2%8B%AF)）。通过简化原则舍弃所有低阶项和常数，得到最坏情况增长阶数为N²。

---

#### 嵌套循环分析示例 - 几何论证

- 比较操作次数可视为边长为N−1的直角三角形面积
    
- 因此该面积的增长阶数为N²
    
- 这种观察能力需要通过实践积累，并非一蹴而就