# 30.1 分区

此前，我们已经介绍了**选择排序、堆排序、归并排序和插入排序**。

这些排序算法各自有一个核心思想驱动：

- 选择排序：找到最小的元素，将其放在最前面  
- 堆排序：使用 MaxPQ 找到最大元素，将其放在最前面  
- 归并排序：将两个已排序的半部分合并为一个整体有序序列  
- 插入排序：确定当前元素的插入位置  

快速排序的核心思想涉及**分区**。

具体来说，要对数组 a[] 进行分区，首先选择一个元素 x = a[i] 作为枢轴。

![](https://cs61b-2.gitbook.io/cs61b-textbook/~gitbook/image?url=https%3A%2F%2Flh6.googleusercontent.com%2FuFsnl6huFGAYsN7Tsk4-0F3mBDUDZ9Cobaeq3cWeDs4kWvE3d2-4Zyp3QLzNxuUipSOMJvSUmTlQWqpnasgMNkBqv6s4Cu-ndfIv-tkLJ8QhjibVJYwTEBmOQM6utO8z8M8S58wvuxMgiedvLqcllFY&width=768&dpr=4&quality=100&sign=46ee83d7&sv=2)

在这个数组中，x = 10 是枢轴元素。该数组尚未基于 x = 10 进行分区。

基于该枢轴元素 (x) 的分区涉及重新排列 a[]，使得：

1. x 移动到某个位置 j（可以是 i 的原始位置）  
2. x 左侧的所有数组元素都小于或等于 x (<= x)  
3. x 右侧的所有数组元素都大于或等于 x (>= x)  

在以下数组中，A、B 和 C 表示有效的分区（枢轴为 x = 10），而 D 表示无效的分区。