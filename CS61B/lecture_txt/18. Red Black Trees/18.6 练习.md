# 18.6 练习

---

## 事实性问题

1. 观察下图中的树结构。若执行`rotateLeft(C)`操作，需要执行何种操作才能使树恢复原状？

![[7eb205bb7cf84bca36aad62ba4674fae_MD5.jpg]]

2. 当对树节点进行旋转操作时，以下哪些情况可能发生？
    - 若原树是有效二叉搜索树，旋转后可能失效
    - 树高可能保持不变
    - 树高可能增加
    - 树高可能减少
    - 节点数量可能改变
    - 树的根节点可能改变

---

### 问题1解答
`rotateRight(D)`。任何`rotateLeft`操作的逆操作都是对其左子节点执行`rotateRight`。

---

### 问题2解答
- **若原树是有效二叉搜索树，旋转后可能失效**：旋转操作始终保留搜索树特性
- **树高可能保持不变**：若旋转不涉及最底层叶节点时
- **树高可能增加**：当旋转影响最底层叶节点时
- **树高可能减少**：当旋转影响最底层叶节点时
- **节点数量可能改变**：旋转仅改变结构，不增减节点
- **树的根节点可能改变**：例如对根节点进行旋转时

---

## 操作流程题

1. 观察以下左倾红黑树（LLRB），其对应的2-3树高度是多少？包含多少个3节点？

![[c2a9a02a1266ce320eb77dc04a31b27d_MD5.jpg]]

2. 若在上图LLRB中插入`15`，为维持LLRB特性需首先执行何种操作？
3. 插入过程中若出现以下临时4节点结构，其对应的LLRB表示形式是什么？

![[ecc5d401b1cd49b52c44358ea507bec7_MD5.jpg]]

---

### 问题1解答
![[89f049881be907a7741505c991100d6d_MD5.jpg]]

对应2-3树高度为1，包含两个3节点（`17 25`和`39 43`）

---

### 问题2解答
`15`插入至`13`右侧。由于禁止右倾红链接，需执行`rotateLeft(13)`

---

### 问题3解答
![[72b3dc40d42b63f385fb96cdceb4f0a8_MD5.jpg]]

---

## 元认知题

1. 给出插入下图LLRB树时会导致`rotateRight`作为首个平衡操作的数值范围（假设数值不重复且非整型）

![[c2a9a02a1266ce320eb77dc04a31b27d_MD5.jpg]]

---

### 问题1解答
当连续出现两条红链接时需执行`rotateRight`。此情况发生于向`39`左子树插入值时，该值需大于`25`（位于其右分支）且小于`39`（作为39的左子节点）。最终范围：( (25,39) )

---
