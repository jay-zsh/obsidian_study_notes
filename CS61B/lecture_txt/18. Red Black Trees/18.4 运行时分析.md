# 18.4 运行时分析

---

**简明扼要**

由于左倾红黑树与2-3树存在一一对应关系，且其高度始终维持在对应2-3树高度的两倍范围内，因此所有操作的时间复杂度均为$$\\(\log(N)\\)$$ 量级。

---

**左倾红黑树插入操作抽象代码**：

```java
private Node put(Node h, Key key, Value val) {
    if (h == null) { return new Node(key, val, RED); }

    int cmp = key.compareTo(h.key);
    if (cmp < 0)      { h.left  = put(h.left,  key, val); }
    else if (cmp > 0) { h.right = put(h.right, key, val); }
    else              { h.val   = val;                    }

    // 平衡化操作
    if (isRed(h.right) && !isRed(h.left))      { h = rotateLeft(h);  }
    if (isRed(h.left)  &&  isRed(h.left.left)) { h = rotateRight(h); }
    if (isRed(h.left)  &&  isRed(h.right))     { flipColors(h);      } 

    return h;
}
```

---

**关键说明**：
1. 递归结构保持二叉搜索树性质
2. 通过三步平衡操作维护左倾特性：
   - 右红子节点左旋（`rotateLeft`）
   - 连续左红链右旋（`rotateRight`）
   - 双红子节点颜色翻转（`flipColors`）