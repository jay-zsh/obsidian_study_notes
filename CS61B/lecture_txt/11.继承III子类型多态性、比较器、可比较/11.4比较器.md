# 比较器（Comparator）

## 核心概念

- **自然顺序 (Natural Order)**  
    由类的 `compareTo` 方法定义的默认排序规则（如`Dog`类按`size`排序）
    
- **比较器 (Comparator)**  
    独立于类的第三方比较工具，可实现多种排序方式
    

## 实现对比

|特性|Comparable|Comparator|
|---|---|---|
|**接口位置**|嵌入类内部|独立的外部/嵌套类|
|**比较方法**|`compareTo(T o)`|`compare(T o1, T o2)`|
|**排序方式**|定义单一自然顺序|可定义多种排序规则|
|**典型应用场景**|`Collections.sort(list)`|`Collections.sort(list, comparator)`|

## Dog类实现示例

### 1. 自然排序实现

```java
public class Dog implements Comparable<Dog> {
    public int compareTo(Dog uddaDog) {
        return this.size - uddaDog.size; 
    }
}
```

### 2. 名称比较器实现

```java
private static class NameComparator implements Comparator<Dog> {
    public int compare(Dog a, Dog b) {
        return a.name.compareTo(b.name); // 复用String的比较逻辑
    }
}

public static Comparator<Dog> getNameComparator() {
    return new NameComparator();
}
```

## 调用方式

```java
// 获取名称比较器
Comparator<Dog> nc = Dog.getNameComparator();

// 使用示例
Arrays.sort(dogs, nc); 
Collections.sort(dogs, nc);
```

## 继承关系图示

![Comparator继承结构](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2Fjoshhug.gitbooks.io%2Fhug61b%2Fcontent%2Fassets%2Fcomparator.png&width=768&dpr=4&quality=100&sign=ff69ccb&sv=2)

## 核心特性总结

1. **回调机制**：通过接口实现函数式回调（如`max()`需要`compareTo()`支持）
2. **静态嵌套类**：
    - 无需实例化Dog即可获取比较器
    - 封装性更好，避免命名冲突
3. **灵活扩展**：可创建`SizeComparator`、`AgeComparator`等多种比较器


