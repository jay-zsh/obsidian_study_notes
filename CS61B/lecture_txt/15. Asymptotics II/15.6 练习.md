
# 15.6 练习

掌握渐近分析的最佳方式就是多做练习！

---

## 事实性问题

1. 证明 Θ(log₂n) = Θ(log₃n)
2. 以下函数的时间复杂度是多少？

```java
public static int f(int n) {
    if (n <= 1) {
        return 0;
    }
    return f(n - 1) + f(n - 1) + f(n - 1);
}
```

### 问题1解答
根据对数换底公式，log₂n = (logn)/(log2) = Θ(logn)。同理，log₃n = (logn)/(log3) = Θ(logn)。因此在渐近分析中，对数函数的底数不影响阶数（只要底数是常数）。

### 问题2解答
该函数本质上是将斐波那契数列的递归调用次数从2次增加到3次，时间复杂度为 Θ(3ⁿ)

---

## 操作性问题

1. 分析`print_fib`函数在n趋大时的时间复杂度：

```java
public void print_fib(int n) {
   for (int i = 0; i < n; i++) {
       System.out.println(fib(i));
   }
}
```

2. 若将`print_fib`的循环体改为`System.out.println(fib(n))`，重新分析时间复杂度
3. 分析函数`f`的时间复杂度（已知`createArray`时间复杂度为线性）：

```java
public static void f(int n) {
    if (n == 1) {
        return;
    }
    f(n / 2);
    f(n / 2);
    createArray(n);
}
```

4. [2018年春季期中考试2第8题](https://drive.google.com/file/d/1Vo8p4vbOGt7eY5TtalvAEnk4ignpTVvm/view?usp=sharing)
5. [2017年春季期中考试2第4题](https://drive.google.com/file/d/1yWyRp7QTizspTp9dsKz5yxE6bSf9YUIi/view?usp=sharing)

### 问题1解答
已知`fib(i)`的时间复杂度约为2ⁱ。循环执行n次后总时间复杂度为2⁰ + 2¹ + ... + 2ⁿ，构成以2ⁿ为末项的等比数列，最终时间复杂度保持 Θ(2ⁿ)

### 问题2解答
每次循环调用`fib(n)`的时间复杂度为2ⁿ，执行n次循环总时间复杂度为 Θ(n2ⁿ)

### 问题3解答
函数每次产生两个n/2规模的递归调用，每层递归进行线性时间操作。每层总工作量为n，递归深度为logn，最终时间复杂度为 Θ(nlogn)

---

## 元认知问题

1. 分析`modified_fib`的时间复杂度（假设values数组大小为n）：

```java
public void modified_fib(int n, int[] values) {
   if (n <= 1) {
     values[n] = n;
     return n;
   } else {
     int val = values[n];
     if (val == 0) {
       val = modified_fib(n-1, values) + modified_fib(n-2, values);
       values[n] = val;
     }
     return val;
   }
}  
```

### 问题1解答
该实现采用记忆化优化，每个斐波那契数仅计算一次，时间复杂度优化为 Θ(n)

---

**注**：部分习题解析视频与完整答案可通过课程官网获取：[2018期中2解析](https://drive.google.com/file/d/1LIyFXwHYCWXNqIgKTsTyKiOYnB79_ykk/view)，[2017期中2答案](https://drive.google.com/file/d/1b99XARlZxg3NMfeSAVt2yzDzwSEcASq3/view)