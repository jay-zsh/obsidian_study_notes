
# 29.1 排序问题

## 排序

在教材后续部分，我们将探讨排序问题——其非正式定义为将给定项目集按特定顺序排列。

排序本身是重要任务，也可作为大型算法问题的子问题。排序可应用于重复项查找（排序后等价项相邻）、二分搜索和数据结构平衡等问题。

引入排序的另一原因是：不同排序方法展现了解决计算问题的通用思路。排序问题的解决方案常涉及本课程前期涵盖的数据结构。

---

## 排序：定义

键值 a, b, c 的**序关系** << 需满足以下性质：
- _三分律_：a << b, a = b, b << a 中有且仅有一个成立。
- _传递律_：若 a << b 且 b << c，则 a << c。

满足上述性质的序关系称为**全序关系**。

**排序**指通过置换操作使元素序列按键值相对于给定序关系呈非递减排列，即满足 x₁ ≤ x₂ ≤ x₃ ≤ ... ≤ xₙ。

---

### 示例：字符串长度

字符串长度是一种序关系。验证其满足两定律：
- _三分律_：对字符串 `a`, `b`，仅一种关系成立——`len(a)` < `len(b)`, `len(a)` = `len(b)` 或 `len(a)` > `len(b)`。
- _传递律_：若 `len(a)` < `len(b)` 且 `len(b)` < `len(c)`，则必有 `len(a)` < `len(c)`。

使用上述序关系对 `["cows", "get", "going", "the"]` 排序时，两种有效结果为：
1. `["the", "get", "cows", "going"]`
2. `["get", "the", "cows", "going"]`

注意：`the` 与 `get` 因长度相等在序关系中视为等价。

---

## Java 中的序关系

Java 中序关系通常由 `compareTo` 或 `compare` 方法定义。例如：

```java
import java.util.Comparator;

public class LengthComparator implements Comparator<String> {
    public int compare(String x, String b) {
        return x.length() - b.length();
    }
}
```

需注意：按此关系，`the` 与 `get` 序关系等价，但通过 `.equals()` 方法比较并不相等。

---

## 逆序对

排序的另一视角是修正序列中的逆序对。**逆序对**指违反定义序关系的元素对。

例如下图的 11 元素序列中，最大可能存在 55 个逆序对（C(11,2)），实际存在 6 个逆序对：

![](PANG/ba430c901913560b502c33e464f72a2f_MD5.jpg)  
上图序列有 6 个逆序对

因此排序可表述为：对含 Z 个逆序对的元素序列，通过操作序列将逆序对数量归零。

---

## 排序性能

算法运行效率的度量称为**时间复杂度**。例如 Dijkstra 算法的时间复杂度为 O(E log V)。

算法额外内存占用的度量称为**空间复杂度**。例如 Dijkstra 算法需 Θ(V) 空间存储队列、`distTo` 和 `edgeTo` 数组。注意：图本身占用 Θ(V+E) 空间，但因属于算法输入，不计入空间复杂度——我们仅关注算法使用的额外空间。