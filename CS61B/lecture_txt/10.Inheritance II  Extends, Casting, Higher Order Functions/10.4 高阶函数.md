# 10.4高阶函数

**高阶函数：**将另一个函数视为数据的函数。

- 例如：接受一个函数作为输入
    
- Python 示例：

```python
def tenX(x):
   return 10*x
 
def do_twice(f, x):
   return f(f(x))
 
print(do_twice(tenX, 2))
```

---

## Java 7 中的高阶函数实现

### 传统方式（Java 7 及更早版本）

**核心问题：**内存盒（变量）不能存储函数指针

- 解决方案：使用接口代替

```java
public interface IntUnaryFunction {
	int apply(int x);
}

public class TenX implements IntUnaryFunction {
	public int apply(int x) {
   		return 10 * x;
	}
}
```

上述代码与以下 Python 代码等效：

```python
def tenX(x):
    return 10*x
```

完整 Java 实现代码：

```java
public interface IntUnaryFunction {
	int apply(int x);
}

public class TenX implements IntUnaryFunction {
	public int apply(int x) {
   		return 10 * x;
	}
}

public class HoFDemo {
	public static int do_twice(IntUnaryFunction f, int x) {
   		return f.apply(f.apply(x));
	}
	
	public static void main(String[] args) {
   		System.out.println(do_twice(new TenX(), 2));
	}
}
```

此实现完全等效于前文给出的 Python 代码。