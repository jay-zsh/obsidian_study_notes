
# 32.2 快速选择算法

对快速排序未能完全击败归并排序、真正夺得"基于比较的最快排序算法"称号的结果感到不满？让我们发起最后一搏来扭转局面：使用快速选择算法定位中位数。

---

## 快速选择算法

目标：通过分区寻找中位数。  
核心思想：长度为 n 的数组中位数位于索引 n/2 附近。

1. 初始化数组，以最左侧元素为基准点  
![](98f44c5c44b347d7249419dd0a3fd939_MD5.jpg)  
初始数组  
本例中位数索引应为 9 / 2 \=\= 4

2. 围绕基准点分区  
![](48be293d87296a15615b5db90e28bf44_MD5.jpg)  
基准点落于索引 2  
因基准点未达中位索引，需继续处理。但仅需分区**右侧**子问题（因中位索引 n/2 > 2）

3. 分区子问题并重复过程  
![](360840b8b74d7d6376a808ecbc78017b_MD5.jpg)  
基准点位于索引 6 仍未达中位，继续

4. 当基准点抵达中位索引时停止  
![](15578703167aaa013e65d0e49bdf2b18_MD5.jpg)  
基准点落于索引 4，处理完成

---

## 快速选择算法性能

### 最坏情况运行时间
最坏情况发生在数组有序时，时间复杂度为 θ(N²)  
![](ccd91494e18e0bcc99d760f52c57170f_MD5.jpg)

### 期望运行时间
快速选择算法的期望时间复杂度为 θ(N)，下图直观说明该结论：  
![](a8f04b532814363b57ad22b605a5f985_MD5.jpg)  
通过经典级数可得运行时间：  
N + N/2 + N/4 + ... + 1 \=\= θ(N)

---

## 与归并排序比较？
即便使用快速选择精确获取中位数，最终算法效率仍不理想。  
遗憾宣告：归并排序团队获胜。